<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Transitions</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <style>
  .wrapper {
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }

  html,
  body {
    margin: 0;
    padding: 0;
    border: 0;
    box-sizing: border-box;
  }

  html,
  body,
  .full-height {
    height: 100%;
    overflow: hidden;
  }

  .row {
    display: flex;
    flex-grow: 1;
    flex-direction: row;
  }

  .col {
    width: 50%;
  }

  .clickable {
    cursor: pointer;
  }

  .col .icon-container {
    margin: 0;
    height: 100%;
    text-align: center;
    position: relative;
  }

  .col .icon-container > i.fa {
    color: #eee;
    font-size: 50px;
    position: absolute;
    width: 50px;
    height: 50px;
    margin: auto;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
  }

  .fill {
    z-index: 2;
    animation: fill 1s;
    animation-fill-mode: forwards;
    transition: width 1s, height 1s;
  }
  </style>
</head>
<body>
  <div class="wrapper full-height">
    <div class="row">
      <div class="col clickable" style="background: SteelBlue">
        <div class="icon-container">
          <i class="fa fa-desktop"></i>
        </div>
      </div>
      <div class="col clickable" style="background: DarkOrange">
        <div class="icon-container">
          <i class="fa fa-download"></i>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col clickable" style="background: FireBrick">
        <div class="icon-container">
          <i class="fa fa-bug"></i>
        </div>
      </div>
      <div class="col clickable" style="background: ForestGreen">
        <div class="icon-container">
          <i class="fa fa-cloud"></i>
        </div>
      </div>
    </div>
  </div>

  <script>
  'use strict';
  var icons = document.querySelectorAll(".col")
  for (let i = 0; i < icons.length; i++) {
    icons[i].addEventListener('click', onClick)
  }

  function onClick(e) {
      var target = this

    // create a clone of the element (in this case, one of the colored boxes) and set it's original size to the size of the target (original box).
    let clone = target.cloneNode(true)
    clone.style.width = target.clientWidth + "px"
    clone.style.height = target.clientHeight + "px"
    clone.style.position = "absolute"
    clone.style.top = target.offsetTop + "px"
    clone.style.left = target.offsetLeft + "px"
    clone.style.transition = "all .5s" // It'll take a half second to perform the transition
    // Set up the onclick function to shrink it back to the original size of the target (box).
    clone.onclick = function () {
      let self = this;
      self.style.width = target.clientWidth + "px"
      self.style.height = target.clientHeight + "px"
      self.style.top = target.offsetTop + "px"
      self.style.left = target.offsetLeft + "px"
      this.addEventListener("transitionend", function() {
        self.remove()
      })
    }

    // Put the clone element into the HTML (show it!)
    document.body.appendChild(clone)
    // After one second grow this cloned element to 100% of the screen with it's top and right position at 0
    // We have to use the setTimeout() to delay the resizing.
    // since we are setting the size earlier we need the browser optimizer will see that we're setting the size here and will skip ahead (ignoring the previous size setting).
    setTimeout(function(){
      clone.style.width = "100%"
      clone.style.height = "100%"
      clone.style.top = 0
      clone.style.left = 0
    },1)
  }
  </script>
</body>
</html>
